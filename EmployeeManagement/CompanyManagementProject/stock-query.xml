<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
<comment>stock-query.xml file</comment>
	<entry key= "stockST1">SELECT TEAM_CODE,PRODUCT_CODE,PRODUCT_NAME,NVL(재고수량,'0') 재고수량
FROM (SELECT TEAM_CODE,PRODUCT_CODE,PRODUCT_NAME,SUM(AMOUNT) 재고수량
FROM(SELECT TEAM_CODE ,PRODUCT_CODE ,PRODUCT_TB.PRODUCT_NAME PRODUCT_NAME,
(CASE 
	WHEN IN_OUT_SALES_ST = 'IN'
	THEN TO_NUMBER(TO_CHAR(AMOUNT))   
	WHEN IN_OUT_SALES_ST = 'OUT'
	THEN TO_NUMBER(TO_CHAR('-'||AMOUNT))
	WHEN IN_OUT_SALES_ST = 'SALES'
	THEN TO_NUMBER(TO_CHAR('-'||AMOUNT))
END) AMOUNT 
FROM STOCK_TB
FULL JOIN PRODUCT_TB USING(PRODUCT_CODE))
GROUP BY TEAM_CODE ,PRODUCT_CODE ,PRODUCT_NAME
ORDER BY 1,2)</entry>
	<entry key= "stockST1_DM"> WHERE TEAM_CODE =?</entry>
	<entry key= "stockST2">SELECT TEAM_CODE,PRODUCT_CODE,PRODUCT_NAME, NVL(SUM(AMOUNT),'0') 재고수량
FROM STOCK_TB
FULL JOIN PRODUCT_TB USING(PRODUCT_CODE)
WHERE IN_OUT_SALES_ST = ? AND SUBSTR(TO_CHAR(STOCK_ST_DATE),1,5) = ?
GROUP BY TEAM_CODE,PRODUCT_CODE,PRODUCT_NAME</entry>
	<entry key= "stockST2_DM"> HAVING TEAM_CODE = ?</entry>
	
	<entry key= "orderST">SELECT ORDER_NO ,ORDER_CODE , PRODUCT_CODE , ORDER_AMOUNT, TO_CHAR(ORDER_DATE, 'YYYY-MM-DD') 날짜,TEAM_CODE  
FROM ORDER_TB</entry>
	<entry key= "orderST_DM"> WHERE TEAM_CODE = ?</entry>
	<entry key= "orderST1">SELECT ORDER_NO ,ORDER_CODE , PRODUCT_CODE , ORDER_AMOUNT, TO_CHAR(ORDER_DATE, 'YYYY-MM-DD') 날짜,TEAM_CODE  
FROM ORDER_TB
WHERE SUBSTR(ORDER_CODE,1,6) =?</entry>
	<entry key= "orderST1_DM"> AND TEAM_CODE = ?</entry>
	<entry key ="insertorderTB">INSERT INTO ORDER_TB VALUES(SEQ_ORDER_NO.NEXTVAL,?,TO_DATE(SYSDATE,'YYYY-MM-DD'),
?,?,?)</entry>
	<entry key= "insertorder">INSERT INTO STOCK_TB VALUES(SEQ_STOCK_NO.NEXTVAL,'IN',?,SYSDATE,'N',?,?,'DC')</entry>
	<entry key= "insertorderDC">INSERT INTO STOCK_TB VALUES(SEQ_STOCK_NO.NEXTVAL,'OUT',?,SYSDATE,'N',?,'DC',?)</entry>
</properties>
